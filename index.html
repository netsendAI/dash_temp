<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AB-—Ç–µ—Å—Ç IN-4868: –¢–µ–Ω–µ–≤—ã–µ —Å–∫–∏–¥–∫–∏</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        
        .header {
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            margin-bottom: 20px;
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header .subtitle { color: #888; font-size: 1.1em; }
        .header .uuid { color: #666; font-size: 0.9em; font-family: monospace; }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            transition: transform 0.3s;
        }
        .metric-card:hover { transform: translateY(-5px); }
        .metric-card .label { color: #888; font-size: 0.9em; margin-bottom: 10px; }
        .metric-card .values {
            display: flex;
            justify-content: space-around;
            margin-bottom: 15px;
        }
        .metric-card .value-box {
            text-align: center;
        }
        .metric-card .value-box .variant { 
            font-size: 0.8em; 
            color: #888;
            margin-bottom: 5px;
        }
        .metric-card .value-box .value { 
            font-size: 1.8em; 
            font-weight: bold;
        }
        .metric-card .value-box.a .value { color: #3498db; }
        .metric-card .value-box.b .value { color: #9b59b6; }
        .metric-card .lift {
            font-size: 1.5em;
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
        }
        .metric-card .lift.negative { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
        .metric-card .lift.positive { background: rgba(39, 174, 96, 0.2); color: #27ae60; }
        
        .target-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border: 2px solid #e74c3c;
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
        }
        .target-card h2 { margin-bottom: 15px; }
        .target-card .status { font-size: 2em; color: #e74c3c; }
        .target-card .details { color: #888; margin-top: 10px; }
        
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .chart-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 20px;
        }
        .chart-card h3 { margin-bottom: 15px; color: #fff; }
        .chart { height: 300px; }
        
        .split-bar {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            height: 40px;
            display: flex;
            overflow: hidden;
            margin: 20px 0;
        }
        .split-bar .a { background: #3498db; display: flex; align-items: center; justify-content: center; }
        .split-bar .b { background: #9b59b6; display: flex; align-items: center; justify-content: center; }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .legend-dot.a { background: #3498db; }
        .legend-dot.b { background: #9b59b6; }
        
        .funnel-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .funnel-table th, .funnel-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .funnel-table th { color: #888; }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
<!-- –≠–∫—Ä–∞–Ω –ª–æ–≥–∏–Ω–∞ -->
    <div id="login-screen">
        <h2>–î–æ—Å—Ç—É–ø –∫ –¥–∞—à–±–æ—Ä–¥—É</h2>
        <p>–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞.</p>
        <input id="login-input" type="text" placeholder="–õ–æ–≥–∏–Ω">
        <input id="password-input" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
        <button id="login-button">–í–æ–π—Ç–∏</button>
        <div id="login-error" style="display:none;color:#e74c3c;font-size:0.85em;margin-top:10px;">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</div>
    </div>

    <div id="dashboard" style="display:none;">

    <div class="container">
        <div class="header">
            <h1>üß™ AB-—Ç–µ—Å—Ç: –¢–µ–Ω–µ–≤—ã–µ —Å–∫–∏–¥–∫–∏</h1>
            <div class="subtitle">IN-4868 | –ü–µ—Ä–∏–æ–¥: 2026-01-20 ‚Äî 2026-01-21</div>
            <div class="subtitle" style="margin-top: 5px; font-size: 0.9em;">–í–∏—Ç—Ä–∏–Ω—ã: desktop, android, ios, mobweb (–±–µ–∑ white-label)</div>
            <div class="uuid">UUID: 944ace4b-4521-4191-b02c-112d688c0460</div>
        </div>
        
        <div class="legend">
            <div class="legend-item"><div class="legend-dot a"></div> –ì—Ä—É–ø–ø–∞ A (–∫–æ–Ω—Ç—Ä–æ–ª—å)</div>
            <div class="legend-item"><div class="legend-dot b"></div> –ì—Ä—É–ø–ø–∞ B (—Å–∫–∏–¥–∫–∞)</div>
        </div>
        
        <h3 style="text-align: center; margin-bottom: 10px;">üìä –°–ø–ª–∏—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–∏—Å–∫–∞)</h3>
        <div class="split-bar">
            <div class="a" style="width: 10.0%">10.0%</div>
            <div class="b" style="width: 90.0%">90.0%</div>
        </div>
        
        <div class="target-card">
            <h2>üéØ TARGET: RPV +5%</h2>
            <div class="status">‚ùå –ù–ï –î–û–°–¢–ò–ì–ù–£–¢</div>
            <div class="details">–§–∞–∫—Ç: -33.0%</div>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="label">üìà CVR (–ö–æ–Ω–≤–µ—Ä—Å–∏—è)</div>
                <div class="values">
                    <div class="value-box a">
                        <div class="variant">A</div>
                        <div class="value">13.69%</div>
                    </div>
                    <div class="value-box b">
                        <div class="variant">B</div>
                        <div class="value">10.92%</div>
                    </div>
                </div>
                <div class="lift negative">-20.2%</div>
            </div>
            
            <div class="metric-card">
                <div class="label">üí∞ RPV (Revenue Per Visitor)</div>
                <div class="values">
                    <div class="value-box a">
                        <div class="variant">A</div>
                        <div class="value">28,170‚ÇΩ</div>
                    </div>
                    <div class="value-box b">
                        <div class="variant">B</div>
                        <div class="value">18,881‚ÇΩ</div>
                    </div>
                </div>
                <div class="lift negative">-33.0%</div>
            </div>
            
            <div class="metric-card">
                <div class="label">üßæ AOV (–°—Ä–µ–¥–Ω–∏–π —á–µ–∫)</div>
                <div class="values">
                    <div class="value-box a">
                        <div class="variant">A</div>
                        <div class="value">205,766‚ÇΩ</div>
                    </div>
                    <div class="value-box b">
                        <div class="variant">B</div>
                        <div class="value">172,887‚ÇΩ</div>
                    </div>
                </div>
                <div class="lift negative">-16.0%</div>
            </div>
            
            <div class="metric-card">
                <div class="label">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–∏—Å–∫–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ)</div>
                <div class="values">
                    <div class="value-box a">
                        <div class="variant">A</div>
                        <div class="value">168</div>
                    </div>
                    <div class="value-box b">
                        <div class="variant">B</div>
                        <div class="value">1,520</div>
                    </div>
                </div>
                <div class="lift positive">–í—Å–µ–≥–æ: 1,688</div>
            </div>
        </div>
        
        <div class="charts-grid">
            <div class="chart-card">
                <h3>üìä –ó–∞–∫–∞–∑—ã –ø–æ –¥–Ω—è–º</h3>
                <div id="ordersChart" class="chart"></div>
            </div>
            
            <div class="chart-card">
                <h3>üí≥ –û–ø–ª–∞—Ç—ã –ø–æ –¥–Ω—è–º</h3>
                <div id="paymentsChart" class="chart"></div>
            </div>
            
            <div class="chart-card">
                <h3>üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫</h3>
                <div id="metricsChart" class="chart"></div>
            </div>
            
            <div class="chart-card">
                <h3>üìâ –í–æ—Ä–æ–Ω–∫–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏</h3>
                <div id="funnelChart" class="chart"></div>
            </div>
            
            <div class="chart-card">
                <h3>üß≠ –ö–æ–Ω–≤–µ—Ä—Å–∏—è: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Üí –æ–ø–ª–∞—Ç—ã (CVR, %)</h3>
                <div id="cvrUsersChart" class="chart"></div>
            </div>
            
            <div class="chart-card">
                <h3>üí≥ –ö–æ–Ω–≤–µ—Ä—Å–∏—è: –∑–∞–∫–∞–∑ ‚Üí –æ–ø–ª–∞—Ç–∞ (Pay-through, %)</h3>
                <div id="payRateChart" class="chart"></div>
            </div>
        </div>
        
        <div class="chart-card">
            <h3>üìã –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <table class="funnel-table">
                <tr>
                    <th>–ú–µ—Ç—Ä–∏–∫–∞</th>
                    <th>–ì—Ä—É–ø–ø–∞ A</th>
                    <th>–ì—Ä—É–ø–ø–∞ B</th>
                    <th>Œî –∞–±—Å.</th>
                    <th>Œî –æ—Ç–Ω.</th>
                </tr>
                <tr>
                    <td>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–æ–∏—Å–∫)</td>
                    <td>168</td>
                    <td>1,520</td>
                    <td>+1,352</td>
                    <td>‚Äî</td>
                </tr>
                <tr>
                    <td>–ó–∞–∫–∞–∑–æ–≤</td>
                    <td>100</td>
                    <td>943</td>
                    <td>+843</td>
                    <td>‚Äî</td>
                </tr>
                <tr>
                    <td>–û–ø–ª–∞—Ç</td>
                    <td>23</td>
                    <td>166</td>
                    <td>+143</td>
                    <td>‚Äî</td>
                </tr>
                <tr>
                    <td>–í—ã—Ä—É—á–∫–∞</td>
                    <td>4,732,627‚ÇΩ</td>
                    <td>28,699,262‚ÇΩ</td>
                    <td>+23,966,635‚ÇΩ</td>
                    <td>‚Äî</td>
                </tr>
                <tr style="font-weight: bold; background: rgba(255,255,255,0.05);">
                    <td>CVR</td>
                    <td>13.69%</td>
                    <td>10.92%</td>
                    <td style="color: #e74c3c">-2.77%</td>
                    <td style="color: #e74c3c">-20.2%</td>
                </tr>
                <tr style="font-weight: bold; background: rgba(255,255,255,0.05);">
                    <td>RPV</td>
                    <td>28,170‚ÇΩ</td>
                    <td>18,881‚ÇΩ</td>
                    <td style="color: #e74c3c">-9,289‚ÇΩ</td>
                    <td style="color: #e74c3c">-33.0%</td>
                </tr>
                <tr style="font-weight: bold; background: rgba(255,255,255,0.05);">
                    <td>AOV</td>
                    <td>205,766‚ÇΩ</td>
                    <td>172,887‚ÇΩ</td>
                    <td style="color: #e74c3c">-32,879‚ÇΩ</td>
                    <td style="color: #e74c3c">-16.0%</td>
                </tr>
            </table>
        </div>
        
        <div class="footer">
            –û—Ç—á—ë—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω: 2026-01-21 12:13:55 | WorkOS AB Test Dashboard
        </div>
    </div>
    
    <script>
        // Orders chart
        Plotly.newPlot('ordersChart', [
            {
                x: ['2026-01-20', '2026-01-21'],
                y: [54, 46],
                name: 'A (–∫–æ–Ω—Ç—Ä–æ–ª—å)',
                type: 'bar',
                marker: { color: '#3498db' }
            },
            {
                x: ['2026-01-20', '2026-01-21'],
                y: [450, 493],
                name: 'B (—Å–∫–∏–¥–∫–∞)',
                type: 'bar',
                marker: { color: '#9b59b6' }
            }
        ], {
            barmode: 'group',
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#fff' },
            margin: { t: 20, r: 20, b: 40, l: 50 },
            legend: { orientation: 'h', y: -0.2 },
            xaxis: { gridcolor: 'rgba(255,255,255,0.1)' },
            yaxis: { gridcolor: 'rgba(255,255,255,0.1)', title: '–ó–∞–∫–∞–∑—ã' }
        }, { responsive: true });
        
        // Payments chart
        Plotly.newPlot('paymentsChart', [
            {
                x: ['2026-01-20', '2026-01-21'],
                y: [18, 5],
                name: 'A (–∫–æ–Ω—Ç—Ä–æ–ª—å)',
                type: 'scatter',
                mode: 'lines+markers',
                line: { color: '#3498db', width: 3 },
                marker: { size: 8 }
            },
            {
                x: ['2026-01-20', '2026-01-21'],
                y: [95, 71],
                name: 'B (—Å–∫–∏–¥–∫–∞)',
                type: 'scatter',
                mode: 'lines+markers',
                line: { color: '#9b59b6', width: 3 },
                marker: { size: 8 }
            }
        ], {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#fff' },
            margin: { t: 20, r: 20, b: 40, l: 50 },
            legend: { orientation: 'h', y: -0.2 },
            xaxis: { gridcolor: 'rgba(255,255,255,0.1)' },
            yaxis: { gridcolor: 'rgba(255,255,255,0.1)', title: '–û–ø–ª–∞—Ç—ã' }
        }, { responsive: true });
        
        // Metrics comparison chart
        Plotly.newPlot('metricsChart', [
            {
                x: ['CVR (%)', 'RPV (—Ç—ã—Å.‚ÇΩ)', 'AOV (—Ç—ã—Å.‚ÇΩ)'],
                y: [13.690476190476192, 28.17039880952381, 205.76639130434785],
                name: 'A (–∫–æ–Ω—Ç—Ä–æ–ª—å)',
                type: 'bar',
                marker: { color: '#3498db' }
            },
            {
                x: ['CVR (%)', 'RPV (—Ç—ã—Å.‚ÇΩ)', 'AOV (—Ç—ã—Å.‚ÇΩ)'],
                y: [10.921052631578949, 18.881093421052633, 172.8871204819277],
                name: 'B (—Å–∫–∏–¥–∫–∞)',
                type: 'bar',
                marker: { color: '#9b59b6' }
            }
        ], {
            barmode: 'group',
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#fff' },
            margin: { t: 20, r: 20, b: 40, l: 50 },
            legend: { orientation: 'h', y: -0.2 },
            xaxis: { gridcolor: 'rgba(255,255,255,0.1)' },
            yaxis: { gridcolor: 'rgba(255,255,255,0.1)' }
        }, { responsive: true });
        
        // Funnel chart - from search users to paid orders
        Plotly.newPlot('funnelChart', [
            {
                type: 'funnel',
                name: 'A (–∫–æ–Ω—Ç—Ä–æ–ª—å)',
                y: ['–ü–æ–∏—Å–∫', '–ó–∞–∫–∞–∑—ã', '–û–ø–ª–∞—Ç—ã'],
                x: [168, 100, 23],
                textinfo: 'value+percent initial',
                marker: { color: '#3498db' },
                textfont: { color: '#fff' }
            },
            {
                type: 'funnel',
                name: 'B (—Å–∫–∏–¥–∫–∞)',
                y: ['–ü–æ–∏—Å–∫', '–ó–∞–∫–∞–∑—ã', '–û–ø–ª–∞—Ç—ã'],
                x: [1520, 943, 166],
                textinfo: 'value+percent initial',
                marker: { color: '#9b59b6' },
                textfont: { color: '#fff' }
            }
        ], {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#fff' },
            margin: { t: 20, r: 20, b: 20, l: 100 },
            legend: { orientation: 'h', y: -0.1 },
            funnelmode: 'group'
        }, { responsive: true });
        
        // CVR users -> paid
        Plotly.newPlot('cvrUsersChart', [
            {
                x: ['2026-01-20', '2026-01-21'],
                y: [22.22, 4.95],
                name: 'A (–∫–æ–Ω—Ç—Ä–æ–ª—å)',
                type: 'scatter',
                mode: 'lines+markers',
                line: { color: '#3498db', width: 3 },
                marker: { size: 8 },
                hovertemplate: '%{x}<br>A: %{y:.1f}%<extra></extra>'
            },
            {
                x: ['2026-01-20', '2026-01-21'],
                y: [12.84, 7.51],
                name: 'B (—Å–∫–∏–¥–∫–∞)',
                type: 'scatter',
                mode: 'lines+markers',
                line: { color: '#9b59b6', width: 3 },
                marker: { size: 8 },
                hovertemplate: '%{x}<br>B: %{y:.1f}%<extra></extra>'
            }
        ], {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#fff' },
            margin: { t: 20, r: 20, b: 40, l: 60 },
            legend: { orientation: 'h', y: -0.2 },
            xaxis: { gridcolor: 'rgba(255,255,255,0.1)' },
            yaxis: { gridcolor: 'rgba(255,255,255,0.1)', title: 'CVR', ticksuffix: '%' }
        }, { responsive: true });
        
        // Pay-through orders -> paid
        Plotly.newPlot('payRateChart', [
            {
                x: ['2026-01-20', '2026-01-21'],
                y: [33.33, 10.87],
                name: 'A (–∫–æ–Ω—Ç—Ä–æ–ª—å)',
                type: 'scatter',
                mode: 'lines+markers',
                line: { color: '#3498db', width: 3 },
                marker: { size: 8 },
                text: [33.33, 10.87],
                hovertemplate: '%{x}<br>A: %{y:.1f}%<extra></extra>'
            },
            {
                x: ['2026-01-20', '2026-01-21'],
                y: [21.11, 14.4],
                name: 'B (—Å–∫–∏–¥–∫–∞)',
                type: 'scatter',
                mode: 'lines+markers',
                line: { color: '#9b59b6', width: 3 },
                marker: { size: 8 },
                hovertemplate: '%{x}<br>B: %{y:.1f}%<extra></extra>'
            }
        ], {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#fff' },
            margin: { t: 20, r: 20, b: 40, l: 60 },
            legend: { orientation: 'h', y: -0.2 },
            xaxis: { gridcolor: 'rgba(255,255,255,0.1)' },
            yaxis: { gridcolor: 'rgba(255,255,255,0.1)', title: 'Pay-through', ticksuffix: '%' }
        }, { responsive: true });
    </script>

    </div>

    <script src="auth.js"></script>
</body>
</html>
